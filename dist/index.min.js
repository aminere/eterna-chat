!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EternaChat=t():e.EternaChat=t()}(self,(function(){return(()=>{"use strict";var e={138:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"\n.chat-container {\n    background-color: #101010;\n}\n\n.chat-container.collapsed {\n    height: 37px !important;\n}\n\n.chat-frame {\n    width: calc(100% - 20px);\n    height: calc(100% - 23px);\n    padding: 10px;\n    border: none;\n}\n\n.hidden {\n    display: none;\n}\n\n.invisible {\n    visibility: hidden;\n}\n\n.chat-selectors {\n    padding-top: 15px;\n    display: flex;\n    border-bottom: 1px solid #70707080;\n    margin: 0px 15px 0px 15px;\n    position: relative;\n    height: 22px;\n}\n\n.chat-selector {\n    display: flex;\n    flex-direction: column;\n    margin: 0px 15px;\n}\n\n.chat-selector-button {\n    border: none;\n    background-color: inherit;\n    cursor: pointer;\n    color: white;\n    opacity: .5;\n    font: Bold 11px/15px Open Sans;\n    text-transform: uppercase;\n    letter-spacing: 0.11px;\n    transition: opacity .2s;\n}\n\n.chat-selector-arrow {\n    margin-top: 1px;\n    height: 6px;\n}\n\n.chat-selector-button:hover {\n    opacity: 1;\n}\n\n.chat-selector-button.active {\n    opacity: 1;\n}\n\n.chat-selector-button:focus { \n    outline:none; \n}\n\n.chat-contents {\n    height: calc(100% - 38px);\n    overflow: hidden;\n}\n\n.chat-content {\n    height: 100%;\n}\n\n.chat-close {\n    cursor: pointer;\n    position: absolute;\n    right: 0px;\n    transition: filter .2s;\n}\n\n.chat-close:hover {\n    filter: grayscale(1)\n}\n\n.chat-collapse-icon {\n    transform: rotate(180deg) scale(1.2);\n    filter: invert();\n    cursor: pointer;\n    position: absolute;\n    right: 4px;\n    top: 50%;\n}\n\n.chat-collapse-icon.collapsed {\n    transform: rotate(-90deg) scale(1.2);\n}\n\n.collapsed .chat-selector {\n    display: none;\n}\n\n.collapsed .chat-selectors {\n    border-bottom: none;\n}\n",""]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(a[o]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);r&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},320:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(379),a=n.n(r),s=n(795),o=n.n(s),i=n(569),c=n.n(i),l=n(565),d=n.n(l),p=n(216),h=n.n(p),u=n(589),f=n.n(u),m=n(138),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=h(),a()(m.Z,v);const g=m.Z&&m.Z.locals?m.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],i=0;i<e.length;i++){var c=e[i],l=r.base?c[0]+r.base:c[0],d=s[l]||0,p="".concat(l," ").concat(d);s[l]=d+1;var h=n(p),u={css:c[1],media:c[2],sourceMap:c[3]};-1!==h?(t[h].references++,t[h].updater(u)):t.push({identifier:p,updater:a(u,r),references:1}),o.push(p)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var i=n(s[o]);t[i].references--}for(var c=r(e,a),l=0;l<s.length;l++){var d=n(s[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,a=n.media,s=n.sourceMap;a?e.setAttribute("media",a):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},861:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0,t.Chat=class{constructor(e){this._collapsed=!1,this._props=e;const t=["general","help","labs"],n=document.createElement("div");n.className="chat-selectors";const r=document.createElement("div");r.className="chat-contents";const a=t=>{let n=`?channel=${t}`;e.username&&e.uid&&(n=`${n}&name=${encodeURIComponent(e.username)}&uid=${e.uid}`);const r=document.createElement("iframe");return r.className="chat-frame",r.src=`https://irc.eternagame.org/multi-chat/chat.html${n}`,r};this._currentTab=0,this._iframes=new Array(t.length);const s=(e,t)=>{const n=document.createElement("div");if(n.classList.add("chat-content"),t!==this._currentTab)n.classList.add("hidden");else{const r=a(e);this._iframes[t]=r,n.appendChild(r)}return n},o=(e,s)=>{const o=document.createElement("div");return o.className="chat-selector",0===s&&(o.style.marginLeft="0px"),o.appendChild((()=>{const o=document.createElement("button");return o.classList.add("chat-selector-button"),s===this._currentTab&&o.classList.add("active"),o.onclick=()=>{this._currentTab=s;for(let e=0;e<r.children.length;++e){const[o,i]=n.children[e].children,c=r.children[e];if(e===s){if(c.classList.remove("hidden"),o.classList.add("active"),i.classList.remove("hidden"),!this._iframes[s]){const e=a(t[s]);this._iframes[s]=e,console.assert(0===c.childElementCount),c.appendChild(e)}}else c.classList.add("hidden"),o.classList.remove("active"),i.classList.add("hidden")}this._iframes[this._currentTab].contentWindow.postMessage({type:"chat-scroll"},"*")},o.innerText=e,o})()),o.appendChild((()=>{const e=document.createElement("img");return e.className="chat-selector-arrow",e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11.621' height='6.222' viewBox='0 0 11.621 6.222'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%23404040;%7D%3C/style%3E%3C/defs%3E%3Cg transform='translate(11.621 6.222) rotate(180)'%3E%3Cpath class='a' d='M11.6.154A.252.252,0,0,0,11.368,0H.253A.253.253,0,0,0,.072.429L5.629,6.145a.253.253,0,0,0,.362,0L11.549.429A.253.253,0,0,0,11.6.154Z'/%3E%3C/g%3E%3C/svg%3E",s!==this._currentTab&&e.classList.add("hidden"),e})()),o};t.forEach(((e,t)=>{n.appendChild(o(e,t)),r.appendChild(s(e,t))})),e.container.innerHTML="",e.container.classList.add("chat-container"),e.backgroundColor&&(e.container.style.backgroundColor=e.backgroundColor),e.container.classList.remove("invisible"),e.container.classList.remove("hidden"),e.container.appendChild(n),e.container.appendChild(r),e.collapsible?n.appendChild((()=>{const t=document.createElement("img");return t.className="chat-collapse-icon",t.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11.621' height='6.222' viewBox='0 0 11.621 6.222'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%23404040;%7D%3C/style%3E%3C/defs%3E%3Cg transform='translate(11.621 6.222) rotate(180)'%3E%3Cpath class='a' d='M11.6.154A.252.252,0,0,0,11.368,0H.253A.253.253,0,0,0,.072.429L5.629,6.145a.253.253,0,0,0,.362,0L11.549.429A.253.253,0,0,0,11.6.154Z'/%3E%3C/g%3E%3C/svg%3E",t.onclick=()=>{this._collapsed?(t.classList.remove("collapsed"),r.classList.remove("hidden"),e.container.classList.remove("collapsed"),this._iframes[this._currentTab].contentWindow.postMessage({type:"chat-scroll"},"*"),e.onExpanded&&e.onExpanded()):(t.classList.add("collapsed"),r.classList.add("hidden"),e.container.classList.add("collapsed"),e.onCollapsed&&e.onCollapsed()),this._collapsed=!this._collapsed},t})()):n.appendChild((()=>{const t=document.createElement("img");return t.className="chat-close",t.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13.121' height='13.121' viewBox='0 0 13.121 13.121'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%234a90e2;stroke:%234a90e2;stroke-width:1.5px;%7D%3C/style%3E%3C/defs%3E%3Cpath class='a' d='M0,10.045.955,11,5.5,6.455,10.045,11,11,10.045,6.455,5.5,11,.955,10.045,0,5.5,4.545.955,0,0,.955,4.545,5.5Z' transform='translate(1.061 1.061)'/%3E%3C/svg%3E",t.onclick=()=>{e.container.classList.add("invisible"),e.onHidden&&e.onHidden()},t})())}show(){this._props.container.classList.remove("invisible")}hide(){this._props.container.classList.add("invisible")}postMessage(e,t){this._iframes[this._currentTab].contentWindow.postMessage(e,t)}}},607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(320),a(n(861),t)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})()}));